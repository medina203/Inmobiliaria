{% extends 'propiedades/base.html' %}

{% block title %}Propiedades Disponibles - Inmobiliaria Medina{% endblock %}

{% block content %}
    <!-- Hero Section -->
    <section class="hero">
        <div class="hero-content">
            <h1>Encuentra Tu Hogar Ideal</h1>
            <p>Las mejores propiedades en las ubicaciones mÃ¡s exclusivas</p>
        </div>
    </section>

    <!-- Filtros -->
    <section class="filters">
        <div class="filter-grid">
            <div class="filter-group">
                <select>
                    <option>Tipo de Propiedad</option>
                    <option>Casa</option>
                    <option>Departamento</option>
                    <option>Terreno</option>
                </select>
            </div>
            <div class="filter-group">
                <select>
                    <option>Precio MÃ­nimo</option>
                    <option>$100,000</option>
                    <option>$200,000</option>
                </select>
            </div>
            <div class="filter-group">
                <select>
                    <option>Precio MÃ¡ximo</option>
                    <option>$500,000</option>
                    <option>$1,000,000</option>
                </select>
            </div>
            <div class="filter-group">
                <select>
                    <option>Habitaciones</option>
                    <option>1+</option>
                    <option>2+</option>
                    <option>3+</option>
                </select>
            </div>
        </div>
    </section>

    <!-- Propiedades -->
    <section class="properties-grid">
        <!-- Propiedad de ejemplo (para probar) -->
        <div class="property-card">
            <div class="property-image"> Imagen de Propiedad</div>
            <div class="property-info">
                <div class="property-price">$350,000</div>
                <h3>Casa de Ejemplo</h3>
                <div class="property-features">
                    <span>ğŸ›ï¸ 3 hab.</span>
                    <span>ğŸš¿ 2 baÃ±os</span>
                    <span>ğŸ“ 150mÂ²</span>
                </div>
                <p>Hermosa casa en zona residencial</p>
                <button class="btn-contact">Contactar Agente</button>
            </div>
        </div>

        <!-- Propiedades de la base de datos -->
        {% for propiedad in propiedades %}
        <div class="property-card">
            <div class="property-image">
                {% if propiedad.imagen %}
                    <img src="{{ propiedad.imagen.url }}" alt="{{ propiedad.titulo }}" style="width:100%;height:100%;object-fit:cover;">
                {% else %}
                    ğŸ  Sin imagen
                {% endif %}
            </div>
            <div class="property-info">
                <div class="property-price">${{ propiedad.precio }}</div>
                <h3>{{ propiedad.titulo }}</h3>
                <div class="property-features">
                    <span>ğŸ›ï¸ {{ propiedad.habitaciones }} hab.</span>
                    <span>ğŸš¿ {{ propiedad.banos }} baÃ±os</span>
                    <span>ğŸ“ {{ propiedad.metros_cuadrados }}mÂ²</span>
                </div>
                <p><strong>Tipo:</strong> {{ propiedad.get_tipo_display }}</p>
                <p><strong>DirecciÃ³n:</strong> {{ propiedad.direccion }}</p>
                <button class="btn-contact">Contactar Agente</button>
            </div>
        </div>
        {% empty %}
        <div style="grid-column: 1 / -1; text-align: center; padding: 3rem;">
            <h3>No hay propiedades disponibles en este momento</h3>
            <p>Vuelve pronto para ver nuestras nuevas propiedades</p>
        </div>
        {% endfor %}
    </section>
{% endblock %}